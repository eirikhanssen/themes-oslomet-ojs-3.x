function Videoabstracts () {
    
    this.data=[{
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4043",
            fid: "",
            title: "Special issue: 30 years of ICT and learning in education – major changes and challenges"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4046",
            fid: "65481665",
            title: "Education, Change and the Longue Durée: The Fate of the Book"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4047",
            fid: "65313433",
            title: "30 years of ICT in education: reflecting on educational technology projects"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4048",
            fid: "65654933",
            title: "“Back to the future”: Socio-technical imaginaries in 50 years of school digitalization curriculum reforms"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4049",
            fid: "65411992",
            title: "When student-activating teaching conflict with students' desire for efficiency. A communication perspective on undergraduate students' media use"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "4044",
            fid: "65411725",
            title: "On the expression of hegemony in the field of educational technology - a case study of editorials in a Norwegian academic journal"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2563",
            fid: "63022468",
            title: "Better together: building a new support site for bachelor's students in nursing"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "3476",
            fid: "63017517",
            title: "Educational and Digital Divides in Inclusive Education The Case of Video Materials for Teacher Training in Uganda"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2870",
            fid: "63022286",
            title: "The challenges and opportunities of using 360-degree video technology in online lecturing: A case study in higher education business studies"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "3165",
            fid: "63017446",
            title: "Educational textbooks in digital surroundings"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "3402",
            fid: "52172269",
            title: "Teachers as users of ICT from the student perspective in higher education flipped classroom classes"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2908",
            fid: "52116132",
            title: "Teachers’ Pedagogical Role as Mediators in Leading and Guiding Students’ Learning in Digital Storytelling (DST)"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2890",
            fid: "52116426",
            title: "Exploring Healthcare Simulation Facilitators’ Conceptions of Teaching and Learning"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "3074",
            fid: "52116671",
            title: "Nonlinear Storytelling Method and Tools for Low-Threshold Game Development"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2919",
            fid: "52116563",
            title: "How are technology-related workplace resources associated with techno-work engagement among a group of Finnish teachers?"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2974",
            fid: "36544230",
            title: "Editorial - Recent trends in the digitalization of the Nordic K-12 schools"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2983",
            fid: "36544218",
            title: "Rethinking communication in virtual learning environments through the concept of Bildung"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2975",
            fid: "36544219",
            title: "Trends in the Digitalization of K-12 Schools: The Australian Perspective"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2976",
            fid: "36544233",
            title: "Digitally Competent School Organizations – Developing Supportive Organizational Infrastructures"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2977",
            fid: "36544237",
            title: "A Comparison Between Digital Competence in Two Nordic Countries’ National Curricula and an International Framework: Inspecting their Readiness for 21st Century Education"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2972",
            fid: "36544217",
            title: "Power and control in the one-to-one computing classroom: students’ perspectives on teachers’ didactical design"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2978",
            fid: "36544229",
            title: "Digital transformation in Swedish schools – Principals’ strategic leadership and organisation of tablet-based one-to-one computing initiatives"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2979",
            fid: "36544243",
            title: "Digital relational competence: Sensitivity and responsivity to needs of distance and co-located students"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2980",
            fid: "36544222",
            title: "Digitally competent schools: teacher expectations when introducing digital competence in Finnish basic education"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2981",
            fid: "36544234",
            title: "Enhancing future teachers’ competencies for technology integration in education:  Turning theory into practice"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2982",
            fid: "36544214",
            title: "Adequate digital competence – a close reading of the new national strategy for digitalization of the schools in Sweden"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2584",
            fid: "28013604",
            title: "Introducing Virtual Reality Technologies to Design Education"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2579",
            fid: "28013605",
            title: "Enhancing engagement, enjoyment and learning experiences through gamification on an English course for health care students"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2581",
            fid: "28013502",
            title: "Transcultural perspectives in Teaching Children's Horror Films"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2834",
            fid: "28013518",
            title: "A long way? Introducing digitized historical newspapers in school, a case study from Finland"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2597",
            fid: "28013593",
            title: "How to trigger students’ interest in digital learning environments: A systematic literature review"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2835",
            fid: "28013564",
            title: "Preschoolers Learning with the Internet of Toys:  From Toy-Based Edutainment to Transmedia Literacy"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2304",
            fid: "19719855",
            title: "Differences between the genders in ICT skills for Finnish upper comprehensive school students: Does gender matter?"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2305",
            fid: "19719853",
            title: "Cooperative Learning within Educational Networks: Perspectives for Good Educational Governance in Modern Reading Education"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2306",
            fid: "19718129",
            title: "Teachers’ practices to support student work in digital storytelling: A study on Finnish and Chinese school teachers’ experiences"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2307",
            fid: "19719863",
            title: "Older Adults’ Coping with the Digital Everyday Life"
        },
        {
            journal: "seminar",
            year: 2020,
            vol: 16,
            issue: 2,
            article_id: "2308",
            fid: "19719862",
            title: "Openness in Education: Claims, Concepts, and Perspectives for Higher Education"
        }];

        this.has_id = function(id) {
            var result = false;
            this.data.forEach(function(entry) {
                if (id == entry.article_id) {
                    result = true;
                }
            });
            return result;
        }

        this.get_fid = function(id) {
            var result = false;
            var current_entry = this.data.find(entry => entry.article_id === id);
            if (current_entry == undefined) {
                return false;
            }
            return(current_entry.fid);
        }
}

var va = new Videoabstracts();
/*va.has_id('2308');
va.has_id('1234');
va.get_fid('2308');
va.get_fid('1234');*/

var videoAdder = function () {
    if (isAbstractPage()) {
        addVideoAbstractIfApplicable();
    }
}

var isAbstractPage = function () {
    return $("body").hasClass("pkp_page_article");
}

function getFilmetVideoEmbedCode(fid) {
    var embedcode = '<div class="abstract_video_container" style="width:100%; height:0; position: relative; padding-bottom:56.25%"><iframe src="https://film.oslomet.no/v.ihtml/player.html?source=embed&photo%5fid=' + fid + '" style="width:100%; height:100%; position: absolute; top: 0; left: 0;" frameborder="0" border="0" scrolling="no" mozallowfullscreen="1" webkitallowfullscreen="1" allowfullscreen="1" allow="fullscreen"></iframe></div>';
    return embedcode;
}

var addVideoAbstractIfApplicable = function () {
    var abstract_db = new Videoabstracts();
    var page_article_id_meta = document.querySelector('meta[name="DC.Identifier"]');
    var page_has_article_id_meta = (page_article_id_meta != null);

    if (page_has_article_id_meta) {
        var page_article_id = page_article_id_meta.getAttribute('content');
        var page_has_article_id = (page_article_id != null);

        if (page_has_article_id) {
            var fid = abstract_db.get_fid(page_article_id);
            var abstract_db_has_valid_fid_for_page_id = (fid != false);
            
                if (abstract_db_has_valid_fid_for_page_id) {
                    
                    var embedContainer = document.createElement('div');
                    embedContainer.innerHTML = getFilmetVideoEmbedCode(fid);

                    var abstractSection = document.querySelector('.obj_article_details .abstract');

                    var abstractBody = abstractSection.querySelector('p');
                    abstractSection.insertBefore(embedContainer.firstElementChild, abstractBody);
                } 
            } 
        } 

} // addVideoAbstractIfApplicable

window.addEventListener('load', videoAdder, false);